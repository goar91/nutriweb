import{a as ie}from"./chunk-ATKONDL4.js";import{a as le,b as se}from"./chunk-TGJTP4WV.js";import{b as H,d as V,f as N,k as ae,l as oe,m as re,o as F}from"./chunk-A2N6GWGJ.js";import{$ as E,A as C,Aa as T,Ca as A,F as o,Ga as te,Ha as ne,I as O,J as z,Q as W,R as u,S as h,T as Y,U as q,V as M,W as S,X as D,Y as t,Z as e,_ as g,aa as x,ba as c,ca as I,da as R,ea as i,fa as d,ga as m,ha as J,ia as y,ja as w,ka as k,la as K,ma as Q,na as X,o as B,pa as j,r as U,ra as $,sa as Z,t as b,u as v,v as _,w as f,za as ee}from"./chunk-6GEMUR5H.js";var G=class r{constructor(a){this.http=a}apiUrl="http://localhost:5000/api/planes";getPlanesByHistoria(a){return this.http.get(`${this.apiUrl}/historia/${a}`)}getPlanById(a){return this.http.get(`${this.apiUrl}/${a}`)}crearPlan(a){return this.http.post(this.apiUrl,a)}actualizarPlan(a,n){return this.http.put(`${this.apiUrl}/${a}`,n)}eliminarPlan(a){return this.http.delete(`${this.apiUrl}/${a}`)}getHistoriasDisponibles(){return this.http.get("http://localhost:5000/api/historias/list")}static \u0275fac=function(n){return new(n||r)(U(A))};static \u0275prov=B({token:r,factory:r.\u0275fac,providedIn:"root"})};var me=(r,a)=>a.id,pe=(r,a)=>a.key;function xe(r,a){if(r&1&&(t(0,"option",7),i(1),e()),r&2){let n=a.$implicit;D("value",n.id),o(),J(" ",n.paciente_nombre," - ",n.fecha_consulta," (",n.paciente_cedula,") ")}}function Ce(r,a){r&1&&(t(0,"div",28),i(1,"Cargando planes..."),e())}function be(r,a){r&1&&(t(0,"div",29),i(1,"No hay planes guardados para esta historia cl\xEDnica"),e())}function ve(r,a){if(r&1&&(t(0,"span",34),i(1,"|"),e(),t(2,"strong"),i(3,"Fecha Fin:"),e(),i(4),j(5,"date")),r&2){let n=c().$implicit;o(4),m(" ",$(5,1,n.fecha_fin,"dd/MM/yyyy")," ")}}function Pe(r,a){if(r&1&&(t(0,"div",37)(1,"strong"),i(2,"Objetivo:"),e(),i(3),e()),r&2){let n=c().$implicit;o(3),m(" ",n.objetivo)}}function Me(r,a){if(r&1&&(t(0,"div",37)(1,"strong"),i(2,"Observaciones:"),e(),i(3),e()),r&2){let n=c().$implicit;o(3),m(" ",n.observaciones)}}function Se(r,a){if(r&1){let n=E();t(0,"div",31)(1,"div",32)(2,"div",33)(3,"strong"),i(4,"Plan ID:"),e(),i(5),t(6,"span",34),i(7,"|"),e(),t(8,"strong"),i(9,"Fecha Inicio:"),e(),i(10),j(11,"date"),u(12,ve,6,4),e(),t(13,"button",35),x("click",function(){let s=b(n).$implicit,p=c(3);return v(p.cargarPlan(s.id))}),_(),t(14,"svg",21),g(15,"path",36),e(),i(16," Cargar "),e()(),u(17,Pe,4,1,"div",37),u(18,Me,4,1,"div",37),e()}if(r&2){let n=a.$implicit;o(5),m(" ",n.id," "),o(5),m(" ",$(11,5,n.fecha_inicio,"dd/MM/yyyy")," "),o(2),h(n.fecha_fin?12:-1),o(5),h(n.objetivo?17:-1),o(),h(n.observaciones?18:-1)}}function Ee(r,a){if(r&1&&(t(0,"div",30),M(1,Se,19,8,"div",31,me),e()),r&2){let n=c(2);o(),S(n.planesGuardados())}}function Oe(r,a){if(r&1&&(t(0,"div",16)(1,"h3"),i(2,"Planes Guardados"),e(),u(3,Ce,2,0,"div",28)(4,be,2,0,"div",29)(5,Ee,3,0,"div",30),e()),r&2){let n=c();o(3),h(n.cargandoPlanes?3:n.planesGuardados().length===0?4:5)}}function ye(r,a){if(r&1){let n=E();t(0,"div",25)(1,"div",38)(2,"h3"),i(3),e()(),t(4,"div",39)(5,"div",40)(6,"label"),_(),t(7,"svg",21),g(8,"path",41),e(),i(9," Desayuno "),e(),f(),t(10,"textarea",42),k("ngModelChange",function(s){let p=b(n).$implicit,P=c();return w(P.getPlanActual()[p.key].desayuno,s)||(P.getPlanActual()[p.key].desayuno=s),v(s)}),e()(),t(11,"div",40)(12,"label"),_(),t(13,"svg",21),g(14,"path",43),e(),i(15," Snack "),e(),f(),t(16,"textarea",44),k("ngModelChange",function(s){let p=b(n).$implicit,P=c();return w(P.getPlanActual()[p.key].snack1,s)||(P.getPlanActual()[p.key].snack1=s),v(s)}),e()(),t(17,"div",40)(18,"label"),_(),t(19,"svg",21),g(20,"path",45),e(),i(21," Almuerzo "),e(),f(),t(22,"textarea",46),k("ngModelChange",function(s){let p=b(n).$implicit,P=c();return w(P.getPlanActual()[p.key].almuerzo,s)||(P.getPlanActual()[p.key].almuerzo=s),v(s)}),e()(),t(23,"div",40)(24,"label"),_(),t(25,"svg",21),g(26,"path",43),e(),i(27," Snack "),e(),f(),t(28,"textarea",47),k("ngModelChange",function(s){let p=b(n).$implicit,P=c();return w(P.getPlanActual()[p.key].snack2,s)||(P.getPlanActual()[p.key].snack2=s),v(s)}),e()(),t(29,"div",40)(30,"label"),_(),t(31,"svg",21),g(32,"path",48),e(),i(33," Merienda "),e(),f(),t(34,"textarea",49),k("ngModelChange",function(s){let p=b(n).$implicit,P=c();return w(P.getPlanActual()[p.key].merienda,s)||(P.getPlanActual()[p.key].merienda=s),v(s)}),e()()()()}if(r&2){let n=a.$implicit,l=c();o(3),d(n.nombre),o(7),y("ngModel",l.getPlanActual()[n.key].desayuno),o(6),y("ngModel",l.getPlanActual()[n.key].snack1),o(6),y("ngModel",l.getPlanActual()[n.key].almuerzo),o(6),y("ngModel",l.getPlanActual()[n.key].snack2),o(6),y("ngModel",l.getPlanActual()[n.key].merienda)}}function we(r,a){if(r&1&&(t(0,"div",25)(1,"div",38)(2,"h3"),i(3),e()(),t(4,"div",39)(5,"div",40)(6,"label"),i(7,"Desayuno"),e(),t(8,"div",53),i(9),e()(),t(10,"div",40)(11,"label"),i(12,"Snack"),e(),t(13,"div",53),i(14),e()(),t(15,"div",40)(16,"label"),i(17,"Almuerzo"),e(),t(18,"div",53),i(19),e()(),t(20,"div",40)(21,"label"),i(22,"Snack"),e(),t(23,"div",53),i(24),e()(),t(25,"div",40)(26,"label"),i(27,"Merienda"),e(),t(28,"div",53),i(29),e()()()()),r&2){let n=a.$implicit;c();let l=X(0);o(3),d(n.nombre),o(6),d((l==null||l[n.key]==null?null:l[n.key].desayuno)||"N/A"),o(5),d((l==null||l[n.key]==null?null:l[n.key].snack1)||"N/A"),o(5),d((l==null||l[n.key]==null?null:l[n.key].almuerzo)||"N/A"),o(5),d((l==null||l[n.key]==null?null:l[n.key].snack2)||"N/A"),o(5),d((l==null||l[n.key]==null?null:l[n.key].merienda)||"N/A")}}function ke(r,a){if(r&1&&(K(0),t(1,"div",50)(2,"div",51)(3,"h3"),i(4),e()(),t(5,"div",52),M(6,we,30,6,"div",25,pe),e()()),r&2){let n=a.$implicit,l=c(2);Q(l.getPlanSemana(n)),o(4),m("Semana ",n),o(2),S(l.diasSemana)}}function De(r,a){if(r&1&&(t(0,"div",26),M(1,ke,8,2,"div",50,q),e()),r&2){let n=c();o(),S(n.semanas)}}function Ae(r,a){r&1&&(t(0,"div",27),_(),t(1,"svg",9),g(2,"path",54),e(),i(3," Plan guardado exitosamente "),e())}var L=class r{constructor(a,n){this.planesService=a;this.http=n}semanaActual=C(1);mensajeGuardado=C(!1);historiasDisponibles=C([]);historiaSeleccionada="";cargando=!1;mostrarPlanesGuardados=C(!1);planesGuardados=C([]);cargandoPlanes=!1;planActualId=null;imprimiendoAmbasSemanas=C(!1);semanas=[1,2];diasSemana=[{key:"lunes",nombre:"Lunes"},{key:"martes",nombre:"Martes"},{key:"miercoles",nombre:"Mi\xE9rcoles"},{key:"jueves",nombre:"Jueves"},{key:"viernes",nombre:"Viernes"},{key:"sabado",nombre:"S\xE1bado"},{key:"domingo",nombre:"Domingo"}];semana1=this.crearSemanaVacia();semana2=this.crearSemanaVacia();ngOnInit(){this.cargarHistorias()}cargarHistorias(){this.planesService.getHistoriasDisponibles().subscribe({next:a=>{this.historiasDisponibles.set(a)},error:a=>{console.error("Error cargando historias:",a)}})}onHistoriaChange(){console.log("Historia seleccionada:",this.historiaSeleccionada),this.mostrarPlanesGuardados.set(!1),this.planesGuardados.set([]),this.planActualId=null,this.historiaSeleccionada&&this.planesService.getPlanesByHistoria(this.historiaSeleccionada).subscribe({next:a=>{a&&a.length>0?this.cargarPlan(a[0].id):(this.semana1=this.crearSemanaVacia(),this.semana2=this.crearSemanaVacia())},error:a=>{console.error("Error cargando plan existente:",a)}})}getPlanActual(){return this.semanaActual()===1?this.semana1:this.semana2}getPlanSemana(a){return a===1?this.semana1:this.semana2}cambiarSemana(a){this.semanaActual.set(a)}guardarPlan(){if(!this.historiaSeleccionada){alert("Por favor seleccione una historia clinica");return}this.cargando||(this.cargando=!0,this.planesService.getPlanesByHistoria(this.historiaSeleccionada).subscribe({next:a=>{let n={HistoriaId:this.historiaSeleccionada,FechaInicio:new Date().toISOString().split("T")[0],Semana1:this.semana1,Semana2:this.semana2};if(a&&a.length>0){let l=a[0];this.planActualId=l.id,this.planesService.actualizarPlan(l.id,n).subscribe({next:s=>{console.log("Plan actualizado:",s),this.cargando=!1,this.mensajeGuardado.set(!0),setTimeout(()=>this.mensajeGuardado.set(!1),3e3)},error:s=>{console.error("Error actualizando plan:",s),this.cargando=!1,alert("Error al actualizar el plan. Por favor intente nuevamente.")}})}else this.planesService.crearPlan(n).subscribe({next:l=>{console.log("Plan creado:",l),this.planActualId=l.planId,this.cargando=!1,this.mensajeGuardado.set(!0),setTimeout(()=>this.mensajeGuardado.set(!1),3e3)},error:l=>{console.error("Error creando plan:",l),this.cargando=!1,alert("Error al guardar el plan. Por favor intente nuevamente.")}})},error:a=>{console.error("Error verificando planes existentes:",a),this.cargando=!1,alert("Error al verificar planes existentes.")}}))}limpiarPlan(){confirm("Estas seguro de que deseas limpiar toda la informacion de la semana actual?")&&(this.semanaActual()===1?this.semana1=this.crearSemanaVacia():this.semana2=this.crearSemanaVacia())}toggleVerPlanes(){if(!this.historiaSeleccionada)return;let a=!this.mostrarPlanesGuardados();this.mostrarPlanesGuardados.set(a),a&&this.cargarPlanesGuardados()}cargarPlanesGuardados(){this.historiaSeleccionada&&(this.cargandoPlanes=!0,console.log("[DEBUG] Cargando planes para historia:",this.historiaSeleccionada),this.planesService.getPlanesByHistoria(this.historiaSeleccionada).subscribe({next:a=>{console.log("[DEBUG] Planes cargados exitosamente:",a),this.planesGuardados.set(a),this.cargandoPlanes=!1,a&&a.length===1&&(console.log("[DEBUG] Solo hay un plan, cargando automaticamente"),this.cargarPlan(a[0].id))},error:a=>{console.error("[ERROR] Error cargando planes:",a),console.error("[ERROR] Status:",a.status),console.error("[ERROR] Message:",a.message),this.cargandoPlanes=!1,a.status===401?alert("Sesion expirada. Por favor inicie sesion nuevamente."):alert("Error al cargar los planes guardados.")}}))}cargarPlan(a){this.planesService.getPlanById(a).subscribe({next:n=>{console.log("Plan cargado:",n),this.planActualId=n.id,n.semana1&&(this.semana1=n.semana1),n.semana2&&(this.semana2=n.semana2),this.mostrarPlanesGuardados.set(!1)},error:n=>{console.error("Error cargando plan:",n),alert("Error al cargar el plan.")}})}imprimirAmbasSemanas(){this.imprimiendoAmbasSemanas.set(!0),document.body.classList.add("printing-plan"),setTimeout(()=>{window.print(),setTimeout(()=>{this.imprimiendoAmbasSemanas.set(!1),document.body.classList.remove("printing-plan")},400)},300)}crearSemanaVacia(){let a=()=>({desayuno:"",snack1:"",almuerzo:"",snack2:"",merienda:""});return{lunes:a(),martes:a(),miercoles:a(),jueves:a(),viernes:a(),sabado:a(),domingo:a()}}static \u0275fac=function(n){return new(n||r)(O(G),O(A))};static \u0275cmp=z({type:r,selectors:[["app-planes-alimentacion"]],decls:43,vars:12,consts:[[1,"planes-container"],[1,"planes-header"],[1,"header-actions"],[1,"historia-selector"],["for","historiaSelect"],["id","historiaSelect",1,"select-historia",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],[1,"btn-save",3,"click","disabled"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["d","M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"],[1,"btn-secondary",3,"click"],["fill-rule","evenodd","d","M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule","evenodd"],[1,"btn-view",3,"click","disabled"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],[1,"planes-guardados-section"],[1,"semanas-tabs"],[1,"tab-group"],[1,"tab-btn",3,"click"],[1,"btn-print-semana","btn-print-all",3,"click","disabled"],["width","16","height","16","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z","clip-rule","evenodd"],["d","M6 14h8v2H6z"],[1,"plan-grid"],[1,"dia-card"],[1,"print-all-container"],[1,"mensaje-exito"],[1,"loading"],[1,"no-planes"],[1,"planes-list"],[1,"plan-item"],[1,"plan-header"],[1,"plan-info"],[1,"separator"],["title","Cargar este plan",1,"btn-load",3,"click"],["fill-rule","evenodd","d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"plan-detail"],[1,"dia-header"],[1,"comidas-list"],[1,"comida-item"],["d","M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"],["placeholder","Ej: Caf\xE9 con leche, tostadas integrales con aguacate...","rows","2",3,"ngModelChange","ngModel"],["d","M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"],["placeholder","Ej: Yogurt griego con frutas...","rows","2",3,"ngModelChange","ngModel"],["fill-rule","evenodd","d","M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 1a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zm4-4a1 1 0 100 2h.01a1 1 0 100-2H13zM9 9a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zM7 8a1 1 0 000 2h.01a1 1 0 000-2H7z","clip-rule","evenodd"],["placeholder","Ej: Pollo a la plancha con ensalada mixta y arroz integral...","rows","2",3,"ngModelChange","ngModel"],["placeholder","Ej: Frutos secos, manzana...","rows","2",3,"ngModelChange","ngModel"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],["placeholder","Ej: Salm\xF3n al horno con vegetales al vapor...","rows","2",3,"ngModelChange","ngModel"],[1,"print-week"],[1,"print-week-header"],[1,"plan-grid","print-grid"],[1,"comida-text"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"]],template:function(n,l){n&1&&(t(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Plan de Alimentaci\xF3n - Dos Semanas"),e(),t(4,"div",2)(5,"div",3)(6,"label",4),i(7,"Historia Cl\xEDnica:"),e(),t(8,"select",5),k("ngModelChange",function(p){return w(l.historiaSeleccionada,p)||(l.historiaSeleccionada=p),p}),x("change",function(){return l.onHistoriaChange()}),t(9,"option",6),i(10,"Seleccione una historia cl\xEDnica"),e(),M(11,xe,2,4,"option",7,me),e()(),t(13,"button",8),x("click",function(){return l.guardarPlan()}),_(),t(14,"svg",9),g(15,"path",10),e(),i(16," Guardar Plan "),e(),f(),t(17,"button",11),x("click",function(){return l.limpiarPlan()}),_(),t(18,"svg",9),g(19,"path",12),e(),i(20," Limpiar "),e(),f(),t(21,"button",13),x("click",function(){return l.toggleVerPlanes()}),_(),t(22,"svg",9),g(23,"path",14)(24,"path",15),e(),i(25),e()()(),u(26,Oe,6,1,"div",16),f(),t(27,"div",17)(28,"div",18)(29,"button",19),x("click",function(){return l.cambiarSemana(1)}),i(30," Semana 1 "),e(),t(31,"button",19),x("click",function(){return l.cambiarSemana(2)}),i(32," Semana 2 "),e()(),t(33,"button",20),x("click",function(){return l.imprimirAmbasSemanas()}),_(),t(34,"svg",21),g(35,"path",22)(36,"path",23),e(),i(37," Imprimir 2 semanas "),e()(),f(),t(38,"div",24),M(39,ye,35,6,"div",25,pe),e(),u(41,De,3,0,"div",26),u(42,Ae,4,0,"div",27),e()),n&2&&(o(8),y("ngModel",l.historiaSeleccionada),o(3),S(l.historiasDisponibles()),o(2),D("disabled",!l.historiaSeleccionada),o(8),D("disabled",!l.historiaSeleccionada),o(4),m(" ",l.mostrarPlanesGuardados()?"Ocultar Planes":"Ver Planes Guardados"," "),o(),h(l.mostrarPlanesGuardados()?26:-1),o(3),R("active",l.semanaActual()===1),o(2),R("active",l.semanaActual()===2),o(2),D("disabled",l.cargando||!l.historiaSeleccionada),o(6),S(l.diasSemana),o(2),h(l.imprimiendoAmbasSemanas()?41:-1),o(),h(l.mensajeGuardado()?42:-1))},dependencies:[T,F,oe,re,H,ae,V,N,ee],styles:['@charset "UTF-8";.planes-container[_ngcontent-%COMP%]{padding:2rem;max-width:1600px;margin:0 auto}.planes-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #e0e0e0}.planes-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.75rem}.header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}.historia-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;min-width:300px}.historia-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;white-space:nowrap}.select-historia[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:2px solid #e0e0e0;border-radius:.5rem;font-size:.95rem;background:#fff;cursor:pointer;transition:border-color .3s}.select-historia[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.btn-save[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s}.btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#667eea;border:2px solid #667eea}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f5f7ff}.semanas-tabs[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:2rem}.tab-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.tab-btn[_ngcontent-%COMP%]{padding:.75rem 2rem;background:#fff;border:2px solid #e0e0e0;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .3s;color:#666}.tab-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent}.tab-btn[_ngcontent-%COMP%]:not(.active):hover{border-color:#667eea;color:#667eea}.btn-print-semana[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;padding:.5rem .875rem;background:#10b981;color:#fff;border:none;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-print-semana[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px);box-shadow:0 2px 4px #10b9814d}.btn-print-semana[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.btn-print-all[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#0ea5e9)}.btn-print-all[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0ea5e9,#10b981)}.plan-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1.5rem}.dia-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 2px 8px #0000001a;overflow:hidden;transition:transform .3s,box-shadow .3s}.dia-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.dia-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;text-align:center}.dia-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.comidas-list[_ngcontent-%COMP%]{padding:1.25rem}.comida-item[_ngcontent-%COMP%]{margin-bottom:1rem}.comida-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.comida-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#555;margin-bottom:.5rem;font-size:.9rem}.comida-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#667eea}.comida-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #e0e0e0;border-radius:.5rem;font-size:.9rem;font-family:inherit;resize:vertical;transition:border-color .3s}.comida-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.comida-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#999;font-style:italic}.print-all-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin-top:1.5rem}.print-week-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.print-grid[_ngcontent-%COMP%]   .dia-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb}.comida-text[_ngcontent-%COMP%]{padding:.65rem;border:1px solid #e5e7eb;border-radius:.5rem;min-height:48px;background:#f9fafb;white-space:pre-wrap}.mensaje-exito[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;background:#4caf50;color:#fff;padding:1rem 1.5rem;border-radius:.5rem;display:flex;align-items:center;gap:.75rem;box-shadow:0 4px 12px #4caf504d;animation:_ngcontent-%COMP%_slideIn .3s ease-out;font-weight:600}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}@media(max-width:768px){.planes-container[_ngcontent-%COMP%]{padding:1rem}.planes-header[_ngcontent-%COMP%]{gap:1rem}.header-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column}.historia-selector[_ngcontent-%COMP%]{width:100%;flex-direction:column;align-items:flex-start}.select-historia[_ngcontent-%COMP%]{width:100%}.btn-save[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;justify-content:center}.plan-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.mensaje-exito[_ngcontent-%COMP%]{bottom:1rem;right:1rem;left:1rem}}.planes-guardados-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;margin-bottom:2rem}.planes-guardados-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#1f2937;font-size:1.25rem}.loading[_ngcontent-%COMP%], .no-planes[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6b7280;font-style:italic}.planes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.plan-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;border:1px solid #e5e7eb;transition:box-shadow .2s}.plan-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000001a}.plan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.plan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap;font-size:.9rem;color:#374151}.plan-info[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d1d5db}.plan-detail[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.9rem;color:#4b5563}.btn-load[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#10b981;color:#fff;border:none;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:background .2s}.btn-load[_ngcontent-%COMP%]:hover{background:#059669}.btn-view[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#3b82f6;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-view[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px)}.btn-view[_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed;opacity:.6}@media print{app-navbar[_ngcontent-%COMP%], .planes-header[_ngcontent-%COMP%], .semanas-tabs[_ngcontent-%COMP%], .btn-print-semana[_ngcontent-%COMP%], .planes-guardados-section[_ngcontent-%COMP%]{display:none!important}.plan-grid[_ngcontent-%COMP%]:not(.print-grid){display:none!important}.print-all-container[_ngcontent-%COMP%]{display:block!important}@page{margin:1cm;size:letter landscape}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0!important;padding:0!important;background:#fff!important}.planes-container[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.plan-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:.5rem;page-break-inside:avoid}.dia-card[_ngcontent-%COMP%]{page-break-inside:avoid;box-shadow:none!important;border:1px solid #333}.dia-header[_ngcontent-%COMP%]{background:#667eea!important;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;padding:.5rem}.dia-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;margin:0}.comidas-list[_ngcontent-%COMP%]{padding:.5rem}.comida-item[_ngcontent-%COMP%]{margin-bottom:.5rem}.comida-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600}.comida-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem;border:1px solid #999;min-height:2rem}}']})};var _e=(r,a)=>a.id,ze=(r,a)=>a.historia_id;function Ie(r,a){r&1&&(t(0,"div",34),g(1,"div",37),t(2,"p"),i(3,"Cargando pacientes..."),e()())}function Te(r,a){r&1&&(t(0,"div",35),_(),t(1,"svg",38),g(2,"path",39),e(),f(),t(3,"p"),i(4,"No hay pacientes registrados"),e()())}function He(r,a){if(r&1){let n=E();t(0,"button",46),x("click",function(){let s=b(n).$implicit,p=c(5);return v(p.editarHistoria(s.id))}),_(),t(1,"svg",47),g(2,"path",48),e(),i(3),e()}if(r&2){let n=a.$implicit,l=a.$index;D("title","Editar historia del "+(n.fecha_consulta||"#"+(l+1))),o(3),m(" HC ",l+1," ")}}function Ve(r,a){if(r&1&&(t(0,"div",41)(1,"span",43),i(2),e(),t(3,"div",44),M(4,He,4,2,"button",45,_e),e()()),r&2){let n=c().$implicit;o(2),m("",n.historias_clinicas.length," historia(s)"),o(2),S(n.historias_clinicas)}}function Ne(r,a){r&1&&(t(0,"span",42),i(1,"Sin historias"),e())}function Fe(r,a){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),u(12,Ve,6,1,"div",41)(13,Ne,2,0,"span",42),e()()),r&2){let n=a.$implicit;o(2),d(n.nombre||"Sin nombre"),o(2),d(n.numero_cedula||"N/A"),o(2),d(n.edad_cronologica||"N/A"),o(2),d(n.email||"Sin email"),o(2),d(n.telefono||"Sin tel\xE9fono"),o(2),h(n.historias_clinicas&&n.historias_clinicas.length>0?12:13)}}function Ge(r,a){if(r&1&&(t(0,"div",36)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),i(5,"Nombre"),e(),t(6,"th"),i(7,"C\xE9dula"),e(),t(8,"th"),i(9,"Edad"),e(),t(10,"th"),i(11,"Email"),e(),t(12,"th"),i(13,"Tel\xE9fono"),e(),t(14,"th"),i(15,"Historias Cl\xEDnicas"),e()()(),t(16,"tbody"),M(17,Fe,14,6,"tr",null,_e),e()()()),r&2){let n=c(2);o(17),S(n.pacientes())}}function Le(r,a){if(r&1){let n=E();t(0,"div",27)(1,"div",30)(2,"h2"),i(3,"Lista de Pacientes"),e(),t(4,"div",31)(5,"p"),i(6),e(),t(7,"button",32),x("click",function(){b(n);let s=c();return v(s.toggleReporteDetallado())}),_(),t(8,"svg",19),g(9,"path",25)(10,"path",33),e(),i(11),e()()(),u(12,Ie,4,0,"div",34)(13,Te,5,0,"div",35)(14,Ge,19,0,"div",36),e()}if(r&2){let n=c();o(6),m("",n.pacientes().length," pacientes registrados"),o(5),m(" ",n.showReporteDetallado()?"Ocultar Reporte Detallado":"Ver Reporte Detallado"," "),o(),h(n.loadingPacientes()?12:n.pacientes().length===0?13:14)}}function Re(r,a){if(r&1){let n=E();t(0,"button",56),x("click",function(){b(n);let s=c(2);return v(s.clearSearch())}),_(),t(1,"svg",57),g(2,"path",58),e()()}}function je(r,a){r&1&&(t(0,"div",34),g(1,"div",37),t(2,"p"),i(3,"Cargando datos detallados..."),e()())}function $e(r,a){r&1&&(t(0,"div",35),_(),t(1,"svg",59),g(2,"path",51),e(),f(),t(3,"p"),i(4,"No se encontraron registros con ese criterio de b\xFAsqueda"),e()())}function Be(r,a){if(r&1&&(t(0,"div",75)(1,"div",76)(2,"span",77),i(3,"Presi\xF3n Arterial:"),e(),t(4,"span",78),i(5),e()(),t(6,"div",76)(7,"span",77),i(8,"Frecuencia Card\xEDaca:"),e(),t(9,"span",78),i(10),e()(),t(11,"div",76)(12,"span",77),i(13,"Frecuencia Respiratoria:"),e(),t(14,"span",78),i(15),e()(),t(16,"div",76)(17,"span",77),i(18,"Temperatura:"),e(),t(19,"span",78),i(20),e()()()),r&2){let n=c(2).$implicit;o(5),d(n.signos_vitales.presion_arterial||"N/A"),o(5),m("",n.signos_vitales.frecuencia_cardiaca||"N/A"," bpm"),o(5),m("",n.signos_vitales.frecuencia_respiratoria||"N/A"," rpm"),o(5),m("",n.signos_vitales.temperatura||"N/A"," \xB0C")}}function Ue(r,a){r&1&&(t(0,"div",89)(1,"p"),i(2,"No se registraron signos vitales en esta historia cl\xEDnica"),e()())}function We(r,a){if(r&1&&(t(0,"div",75)(1,"div",76)(2,"span",77),i(3,"Edad:"),e(),t(4,"span",78),i(5),e()(),t(6,"div",76)(7,"span",77),i(8,"Edad Metab\xF3lica:"),e(),t(9,"span",78),i(10),e()(),t(11,"div",76)(12,"span",77),i(13,"Peso:"),e(),t(14,"span",78),i(15),e()(),t(16,"div",76)(17,"span",77),i(18,"Peso Ajustado:"),e(),t(19,"span",78),i(20),e()(),t(21,"div",76)(22,"span",77),i(23,"Talla:"),e(),t(24,"span",78),i(25),e()(),t(26,"div",76)(27,"span",77),i(28,"IMC:"),e(),t(29,"span",78),i(30),e()(),t(31,"div",76)(32,"span",77),i(33,"C. Cintura:"),e(),t(34,"span",78),i(35),e()(),t(36,"div",76)(37,"span",77),i(38,"C. Cadera:"),e(),t(39,"span",78),i(40),e()(),t(41,"div",76)(42,"span",77),i(43,"C. Brazo:"),e(),t(44,"span",78),i(45),e()(),t(46,"div",76)(47,"span",77),i(48,"C. Muslo:"),e(),t(49,"span",78),i(50),e()(),t(51,"div",76)(52,"span",77),i(53,"C. Pantorrilla:"),e(),t(54,"span",78),i(55),e()(),t(56,"div",76)(57,"span",77),i(58,"Masa Muscular:"),e(),t(59,"span",78),i(60),e()(),t(61,"div",76)(62,"span",77),i(63,"Grasa Corporal %:"),e(),t(64,"span",78),i(65),e()(),t(66,"div",76)(67,"span",77),i(68,"Grasa Corporal:"),e(),t(69,"span",78),i(70),e()(),t(71,"div",76)(72,"span",77),i(73,"Grasa Visceral %:"),e(),t(74,"span",78),i(75),e()(),t(76,"div",76)(77,"span",77),i(78,"Kcal Basales:"),e(),t(79,"span",78),i(80),e()(),t(81,"div",76)(82,"span",77),i(83,"Actividad F\xEDsica:"),e(),t(84,"span",78),i(85),e()(),t(86,"div",76)(87,"span",77),i(88,"Factor Act. F\xEDsica:"),e(),t(89,"span",78),i(90),e()(),t(91,"div",76)(92,"span",77),i(93,"Tiempos de Comida:"),e(),t(94,"span",78),i(95),e()()()),r&2){let n=c(2).$implicit;o(5),m("",n.datos_antropometricos.edad||"N/A"," a\xF1os"),o(5),m("",n.datos_antropometricos.edad_metabolica||"N/A"," a\xF1os"),o(5),m("",n.datos_antropometricos.peso||"N/A"," kg"),o(5),m("",n.datos_antropometricos.peso_ajustado||"N/A"," kg"),o(5),m("",n.datos_antropometricos.talla||"N/A"," cm"),o(5),d(n.datos_antropometricos.imc||"N/A"),o(5),m("",n.datos_antropometricos.circunferencia_cintura||"N/A"," cm"),o(5),m("",n.datos_antropometricos.circunferencia_cadera||"N/A"," cm"),o(5),m("",n.datos_antropometricos.circunferencia_brazo||"N/A"," cm"),o(5),m("",n.datos_antropometricos.circunferencia_muslo||"N/A"," cm"),o(5),m("",n.datos_antropometricos.circunferencia_pantorrilla||"N/A"," cm"),o(5),m("",n.datos_antropometricos.masa_muscular||"N/A"," kg"),o(5),m("",n.datos_antropometricos.grasa_corporal_porcentaje||"N/A","%"),o(5),m("",n.datos_antropometricos.grasa_corporal||"N/A"," kg"),o(5),m("",n.datos_antropometricos.grasa_visceral_porcentaje||"N/A","%"),o(5),m("",n.datos_antropometricos.kcal_basales||"N/A"," kcal"),o(5),d(n.datos_antropometricos.actividad_fisica||"N/A"),o(5),d(n.datos_antropometricos.factor_actividad_fisica||"N/A"),o(5),d(n.datos_antropometricos.tiempos_comida||"N/A")}}function Ye(r,a){r&1&&(t(0,"div",89)(1,"p"),i(2,"No se registraron datos antropom\xE9tricos en esta historia cl\xEDnica"),e()())}function qe(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"Signos Vitales"),e(),t(3,"div",75)(4,"div",76)(5,"span",77),i(6,"Presi\xF3n Arterial:"),e(),t(7,"span",78),i(8),e()(),t(9,"div",76)(10,"span",77),i(11,"Frecuencia Card\xEDaca:"),e(),t(12,"span",78),i(13),e()(),t(14,"div",76)(15,"span",77),i(16,"Frecuencia Respiratoria:"),e(),t(17,"span",78),i(18),e()(),t(19,"div",76)(20,"span",77),i(21,"Temperatura:"),e(),t(22,"span",78),i(23),e()()()()),r&2){let n=c(2).$implicit;o(8),d(n.signos_vitales.presion_arterial||"N/A"),o(5),m("",n.signos_vitales.frecuencia_cardiaca||"N/A"," bpm"),o(5),m("",n.signos_vitales.frecuencia_respiratoria||"N/A"," rpm"),o(5),m("",n.signos_vitales.temperatura||"N/A"," \xB0C")}}function Je(r,a){if(r&1&&(t(0,"div",76)(1,"span",77),i(2,"Alergias:"),e(),t(3,"span",78),i(4),e()()),r&2){let n=c(3).$implicit;o(4),d(n.antecedentes.alergias)}}function Ke(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"Antecedentes"),e(),t(3,"div",75)(4,"div",76)(5,"span",77),i(6,"APF:"),e(),t(7,"span",78),i(8),e()(),t(9,"div",76)(10,"span",77),i(11,"APP:"),e(),t(12,"span",78),i(13),e()(),t(14,"div",76)(15,"span",77),i(16,"APQ:"),e(),t(17,"span",78),i(18),e()(),t(19,"div",76)(20,"span",77),i(21,"AGO:"),e(),t(22,"span",78),i(23),e()(),u(24,Je,5,1,"div",76),e()()),r&2){let n=c(2).$implicit;o(8),d(n.antecedentes.apf||"N/A"),o(5),d(n.antecedentes.app||"N/A"),o(5),d(n.antecedentes.apq||"N/A"),o(5),d(n.antecedentes.ago||"N/A"),o(),h(n.antecedentes.alergias?24:-1)}}function Qe(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"H\xE1bitos"),e(),t(3,"div",75)(4,"div",76)(5,"span",77),i(6,"Fuma:"),e(),t(7,"span",78),i(8),e()(),t(9,"div",76)(10,"span",77),i(11,"Alcohol:"),e(),t(12,"span",78),i(13),e()(),t(14,"div",76)(15,"span",77),i(16,"Caf\xE9:"),e(),t(17,"span",78),i(18),e()(),t(19,"div",76)(20,"span",77),i(21,"Hidrataci\xF3n:"),e(),t(22,"span",78),i(23),e()(),t(24,"div",76)(25,"span",77),i(26,"Actividad F\xEDsica:"),e(),t(27,"span",78),i(28),e()()()()),r&2){let n=c(2).$implicit;o(8),d(n.habitos.fuma||"N/A"),o(5),d(n.habitos.alcohol||"N/A"),o(5),d(n.habitos.cafe||"N/A"),o(5),d(n.habitos.hidratacion||"N/A"),o(5),d(n.habitos.actividad_fisica||"N/A")}}function Xe(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"Valores Bioqu\xEDmicos"),e(),t(3,"div",75)(4,"div",76)(5,"span",77),i(6,"Glicemia:"),e(),t(7,"span",78),i(8),e()(),t(9,"div",76)(10,"span",77),i(11,"Colesterol Total:"),e(),t(12,"span",78),i(13),e()(),t(14,"div",76)(15,"span",77),i(16,"Triglic\xE9ridos:"),e(),t(17,"span",78),i(18),e()(),t(19,"div",76)(20,"span",77),i(21,"HDL:"),e(),t(22,"span",78),i(23),e()(),t(24,"div",76)(25,"span",77),i(26,"LDL:"),e(),t(27,"span",78),i(28),e()()()()),r&2){let n=c(2).$implicit;o(8),m("",n.valores_bioquimicos.glicemia||"N/A"," mg/dL"),o(5),m("",n.valores_bioquimicos.colesterol_total||"N/A"," mg/dL"),o(5),m("",n.valores_bioquimicos.trigliceridos||"N/A"," mg/dL"),o(5),m("",n.valores_bioquimicos.hdl||"N/A"," mg/dL"),o(5),m("",n.valores_bioquimicos.ldl||"N/A"," mg/dL")}}function Ze(r,a){if(r&1&&(t(0,"div",90)(1,"span",77),i(2,"Notas Extras:"),e(),t(3,"span",78),i(4),e()()),r&2){let n=c(3).$implicit;o(4),d(n.recordatorio_24h.extras)}}function et(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"Recordatorio 24 Horas"),e(),t(3,"div",75)(4,"div",76)(5,"span",77),i(6,"Desayuno:"),e(),t(7,"span",78),i(8),e()(),t(9,"div",76)(10,"span",77),i(11,"Snack 1:"),e(),t(12,"span",78),i(13),e()(),t(14,"div",76)(15,"span",77),i(16,"Almuerzo:"),e(),t(17,"span",78),i(18),e()(),t(19,"div",76)(20,"span",77),i(21,"Snack 2:"),e(),t(22,"span",78),i(23),e()(),t(24,"div",76)(25,"span",77),i(26,"Cena:"),e(),t(27,"span",78),i(28),e()(),u(29,Ze,5,1,"div",90),e()()),r&2){let n=c(2).$implicit;o(8),d(n.recordatorio_24h.desayuno||"N/A"),o(5),d(n.recordatorio_24h.snack1||"N/A"),o(5),d(n.recordatorio_24h.almuerzo||"N/A"),o(5),d(n.recordatorio_24h.snack2||"N/A"),o(5),d(n.recordatorio_24h.cena||"N/A"),o(),h(n.recordatorio_24h.extras?29:-1)}}function tt(r,a){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e()()),r&2){let n=a.$implicit;o(2),d(n.categoria),o(2),d(n.alimento),o(2),d(n.frecuencia)}}function nt(r,a){if(r&1&&(t(0,"div",74)(1,"h4"),i(2,"Frecuencia de Consumo"),e(),t(3,"div",91)(4,"table")(5,"thead")(6,"tr")(7,"th"),i(8,"Categor\xEDa"),e(),t(9,"th"),i(10,"Alimento"),e(),t(11,"th"),i(12,"Frecuencia"),e()()(),t(13,"tbody"),M(14,tt,7,3,"tr",null,Y),e()()()()),r&2){let n=c(2).$implicit;o(14),S(n.frecuencia_consumo)}}function it(r,a){if(r&1){let n=E();t(0,"div",73)(1,"div",74)(2,"h4"),i(3,"Datos Personales"),e(),t(4,"div",75)(5,"div",76)(6,"span",77),i(7,"Email:"),e(),t(8,"span",78),i(9),e()(),t(10,"div",76)(11,"span",77),i(12,"Tel\xE9fono:"),e(),t(13,"span",78),i(14),e()(),t(15,"div",76)(16,"span",77),i(17,"Residencia:"),e(),t(18,"span",78),i(19),e()(),t(20,"div",76)(21,"span",77),i(22,"Estado Civil:"),e(),t(23,"span",78),i(24),e()(),t(25,"div",76)(26,"span",77),i(27,"Ocupaci\xF3n:"),e(),t(28,"span",78),i(29),e()()()(),t(30,"div",74)(31,"h4"),i(32,"Historia Cl\xEDnica"),e(),t(33,"div",79)(34,"div",80)(35,"span",81),i(36),e(),t(37,"div",82)(38,"button",83),x("click",function(){b(n);let s=c().$implicit,p=c(3);return v(p.editarHistoria(s.historia_id))}),_(),t(39,"svg",57),g(40,"path",48),e(),i(41," Editar "),e(),f(),t(42,"button",84),x("click",function(){b(n);let s=c().$implicit,p=c(3);return v(p.imprimirHistoria(s.historia_id))}),_(),t(43,"svg",57),g(44,"path",85),e(),i(45," Imprimir "),e(),f(),t(46,"button",86),x("click",function(){b(n);let s=c().$implicit,p=c(3);return v(p.eliminarHistoria(s.historia_id,s.nombre))}),_(),t(47,"svg",57),g(48,"path",69),e(),i(49," Eliminar "),e()()(),f(),t(50,"div",87)(51,"div",88)(52,"strong"),i(53,"Motivo:"),e(),i(54),e(),t(55,"div",88)(56,"strong"),i(57,"Diagn\xF3stico:"),e(),i(58),e(),t(59,"div",88)(60,"strong"),i(61,"Notas Extra:"),e(),i(62),e()()()(),t(63,"div",74)(64,"h4"),i(65,"Signos Vitales"),e(),u(66,Be,21,4,"div",75)(67,Ue,3,0,"div",89),e(),t(68,"div",74)(69,"h4"),i(70,"Datos Antropom\xE9tricos"),e(),u(71,We,96,19,"div",75)(72,Ye,3,0,"div",89),e(),u(73,qe,24,4,"div",74),u(74,Ke,25,5,"div",74),u(75,Qe,29,5,"div",74),u(76,Xe,29,5,"div",74),u(77,et,30,6,"div",74),u(78,nt,16,0,"div",74),e()}if(r&2){let n=c().$implicit;o(9),d(n.email||"No especificado"),o(5),d(n.telefono||"No especificado"),o(5),d(n.lugar_residencia||"No especificado"),o(5),d(n.estado_civil||"No especificado"),o(5),d(n.ocupacion||"No especificado"),o(7),d(n.fecha_consulta||"Sin fecha"),o(18),m(" ",n.motivo_consulta||"No especificado"," "),o(4),m(" ",n.diagnostico||"No especificado"," "),o(4),m(" ",n.notas_extras||"Sin notas adicionales"," "),o(4),h(n.signos_vitales?66:67),o(5),h(n.datos_antropometricos?71:72),o(2),h(n.signos_vitales?73:-1),o(),h(n.antecedentes?74:-1),o(),h(n.habitos?75:-1),o(),h(n.valores_bioquimicos?76:-1),o(),h(n.recordatorio_24h?77:-1),o(),h(n.frecuencia_consumo&&n.frecuencia_consumo.length>0?78:-1)}}function at(r,a){if(r&1){let n=E();t(0,"div",60)(1,"div",61)(2,"div",62)(3,"h3"),i(4),e(),t(5,"div",63)(6,"span",64),i(7),e(),t(8,"span",64),i(9),e(),t(10,"span",64),i(11),e(),t(12,"span",64),i(13),e()()(),t(14,"div",65)(15,"button",66),x("click",function(){let s=b(n).$implicit,p=c(3);return v(p.editarDatosPaciente(s.paciente_id))}),_(),t(16,"svg",67),g(17,"path",48),e(),i(18," Editar "),e(),f(),t(19,"button",68),x("click",function(){let s=b(n).$implicit,p=c(3);return v(p.eliminarPaciente(s.paciente_id,s.nombre))}),_(),t(20,"svg",67),g(21,"path",69),e(),i(22," Eliminar "),e(),f(),t(23,"button",70),x("click",function(){let s=b(n).$implicit,p=c(3);return v(p.togglePacienteExpanded(s.historia_id))}),_(),t(24,"svg",71),g(25,"path",72),e()()()(),u(26,it,79,17,"div",73),e()}if(r&2){let n=a.$implicit,l=c(3);W("data-historia-id",n.historia_id),o(4),d(n.nombre),o(3),m("Fecha: ",n.fecha_consulta||"Sin fecha"),o(2),m("C\xE9dula: ",n.numero_cedula||"N/A"),o(2),m("Edad: ",n.edad_cronologica||"N/A"),o(2),m("Sexo: ",l.getSexoAbreviado(n.sexo)),o(11),I("transform",l.isPacienteExpanded(n.historia_id)?"rotate(180deg)":"rotate(0deg)"),o(2),h(l.isPacienteExpanded(n.historia_id)?26:-1)}}function ot(r,a){if(r&1&&(t(0,"div",55),M(1,at,27,9,"div",60,ze),e()),r&2){let n=c(2);o(),S(n.pacientesFiltrados())}}function rt(r,a){if(r&1){let n=E();t(0,"div",28)(1,"div",30)(2,"h2"),i(3,"Reporte Detallado de Pacientes por Historia Cl\xEDnica"),e(),t(4,"p"),i(5,"Un reporte por cada fecha de consulta de cada paciente"),e()(),t(6,"div",49)(7,"div",50),_(),t(8,"svg",19),g(9,"path",51),e(),f(),t(10,"input",52),k("ngModelChange",function(s){b(n);let p=c();return w(p.searchTerm,s)||(p.searchTerm=s),v(s)}),x("input",function(){b(n);let s=c();return v(s.onSearchChange())}),e(),u(11,Re,3,0,"button",53),e(),t(12,"p",54),i(13),e()(),u(14,je,4,0,"div",34)(15,$e,5,0,"div",35)(16,ot,3,0,"div",55),e()}if(r&2){let n=c();o(10),y("ngModel",n.searchTerm),o(),h(n.searchTerm()?11:-1),o(2),m("",n.pacientesFiltrados().length," resultados encontrados"),o(),h(n.loadingDetallado()?14:n.pacientesFiltrados().length===0?15:16)}}function lt(r,a){r&1&&(t(0,"div",34),g(1,"div",37),t(2,"p"),i(3,"Generando reportes..."),e()())}function st(r,a){if(r&1&&(t(0,"div",92)(1,"div",93)(2,"h3"),i(3,"Resumen General"),e(),t(4,"div",94)(5,"div",95)(6,"span",77),i(7,"Total Pacientes"),e(),t(8,"span",78),i(9),e()(),t(10,"div",95)(11,"span",77),i(12,"Historias Cl\xEDnicas"),e(),t(13,"span",78),i(14),e()(),t(15,"div",95)(16,"span",77),i(17,"Historias este mes"),e(),t(18,"span",78),i(19),e()()()(),t(20,"div",93)(21,"h3"),i(22,"Distribuci\xF3n por G\xE9nero"),e(),t(23,"div",96)(24,"div",97)(25,"div",98)(26,"span",99),i(27,"Masculino"),e()(),t(28,"span",100),i(29),e()(),t(30,"div",97)(31,"div",101)(32,"span",99),i(33,"Femenino"),e()(),t(34,"span",100),i(35),e()()()(),t(36,"div",93)(37,"h3"),i(38,"Actividad Reciente"),e(),t(39,"div",102)(40,"div",103),_(),t(41,"svg",19),g(42,"path",104),e(),f(),t(43,"div")(44,"p",105),i(45,"Sistema funcionando correctamente"),e(),t(46,"span",106),i(47,"\xDAltima actualizaci\xF3n: Hoy"),e()()(),t(48,"div",103),_(),t(49,"svg",19),g(50,"path",25)(51,"path",33),e(),f(),t(52,"div")(53,"p",105),i(54,"Base de datos sincronizada"),e(),t(55,"span",106),i(56,"Datos actualizados"),e()()()()()()),r&2){let n=c(2);o(9),d(n.reporteData().totalPacientes),o(5),d(n.reporteData().totalHistorias),o(5),d(n.reporteData().historiasUltimoMes),o(6),I("width",n.getGenderPercentage("masculino"),"%"),o(4),d(n.reporteData().pacientesPorGenero.masculino),o(2),I("width",n.getGenderPercentage("femenino"),"%"),o(4),d(n.reporteData().pacientesPorGenero.femenino)}}function dt(r,a){if(r&1&&(t(0,"div",27)(1,"div",30)(2,"h2"),i(3,"Reportes y Estad\xEDsticas"),e(),t(4,"p"),i(5,"Resumen de actividad y m\xE9tricas"),e()(),u(6,lt,4,0,"div",34)(7,st,57,9,"div",92),e()),r&2){let n=c();o(6),h(n.loadingReportes()?6:7)}}function ct(r,a){r&1&&(t(0,"div",29),g(1,"app-planes-alimentacion"),e())}var ge=class r{constructor(a,n,l,s,p){this.authService=a;this.http=n;this.router=l;this.nutritionService=s;this.editDataService=p}apiUrl="http://localhost:5000/api";showPacientes=C(!1);showReportes=C(!1);showReporteDetallado=C(!1);showPlanes=C(!1);loadingPacientes=C(!1);loadingReportes=C(!1);loadingDetallado=C(!1);pacientes=C([]);pacientesDetallados=C([]);expandedPacientes=C(new Set);searchTerm=C("");planNutricionalActivo=C(null);reporteData=C({totalPacientes:0,totalHistorias:0,pacientesPorGenero:{masculino:0,femenino:0},historiasUltimoMes:0,totalPlanes:0});pacientesFiltrados=Z(()=>{let a=this.searchTerm().toLowerCase().trim();return a?this.pacientesDetallados().filter(n=>n.nombre&&n.nombre.toLowerCase().includes(a)||n.numero_cedula&&n.numero_cedula.toLowerCase().includes(a)||n.fecha_consulta&&n.fecha_consulta.toLowerCase().includes(a)):this.pacientesDetallados()});ngOnInit(){this.loadReportes()}togglePacientes(){this.showPacientes.update(a=>!a),this.showPacientes()&&this.pacientes().length===0&&this.loadPacientes()}toggleReportes(){this.showReportes.update(a=>!a),this.showReportes()&&this.loadReportes()}togglePlanes(){this.showPlanes.update(a=>!a)}toggleReporteDetallado(){this.showReporteDetallado.update(a=>!a),this.showReporteDetallado()&&this.pacientesDetallados().length===0&&this.loadPacientesDetallados()}togglePacienteExpanded(a){this.expandedPacientes.update(n=>{let l=new Set(n);return l.has(a)?l.delete(a):l.add(a),l})}isPacienteExpanded(a){return this.expandedPacientes().has(a)}togglePlanNutricional(a){this.planNutricionalActivo()===a?this.planNutricionalActivo.set(null):this.planNutricionalActivo.set(a)}isPlanNutricionalActivo(a){return this.planNutricionalActivo()===a}onSearchChange(){}clearSearch(){this.searchTerm.set("")}loadPacientes(){this.loadingPacientes.set(!0),this.http.get(`${this.apiUrl}/nutrition/pacientes`).subscribe({next:a=>{this.pacientes.set(a),this.loadingPacientes.set(!1)},error:a=>{console.error("Error al cargar pacientes:",a),this.loadingPacientes.set(!1),this.pacientes.set([])}})}loadPacientesDetallados(){this.loadingDetallado.set(!0),this.http.get(`${this.apiUrl}/nutrition/pacientes/detallados`).subscribe({next:a=>{this.pacientesDetallados.set(a),this.loadingDetallado.set(!1)},error:a=>{console.error("Error al cargar pacientes detallados:",a),this.loadingDetallado.set(!1),this.pacientesDetallados.set([])}})}loadReportes(){this.loadingReportes.set(!0),this.http.get(`${this.apiUrl}/nutrition/reportes`).subscribe({next:a=>{this.reporteData.set(a),this.loadingReportes.set(!1)},error:a=>{console.error("Error al cargar reportes:",a),this.loadingReportes.set(!1),this.reporteData.set({totalPacientes:0,totalHistorias:0,pacientesPorGenero:{masculino:0,femenino:0},historiasUltimoMes:0,totalPlanes:0})}})}getGenderPercentage(a){let n=this.reporteData().pacientesPorGenero.masculino+this.reporteData().pacientesPorGenero.femenino;return n===0?0:this.reporteData().pacientesPorGenero[a]/n*100}editarHistoria(a){console.log("====== EDITAR HISTORIA CL\xCDNICA ======"),console.log("Historia ID:",a),this.nutritionService.getHistoriaClinica(a).subscribe({next:n=>{console.log("Datos de historia recibidos:",n),this.editDataService.setEditHistoria(a,n),console.log("EditContext set - navegando a /history"),this.router.navigate(["/history"])},error:n=>{console.error("Error cargando historia cl\xEDnica:",n),alert("Error al cargar la historia cl\xEDnica para edici\xF3n")}})}editarDatosPaciente(a){console.log("Editar datos del paciente ID:",a),this.editDataService.setEditPaciente(a),this.router.navigate(["/history"])}eliminarHistoria(a,n){confirm(`\u26A0\uFE0F ELIMINAR HISTORIA CL\xCDNICA \u26A0\uFE0F

Esta acci\xF3n eliminar\xE1 \xDANICAMENTE esta historia cl\xEDnica.
El paciente "${n}" NO ser\xE1 eliminado.

Se borrar\xE1n:
\u2022 Esta consulta y diagn\xF3stico
\u2022 Datos antropom\xE9tricos de esta fecha
\u2022 Valores bioqu\xEDmicos registrados
\u2022 Recordatorio 24h y frecuencia de consumo

\xBFDeseas continuar?
(Esta acci\xF3n NO se puede deshacer)`)&&(console.log(`[ELIMINAR HISTORIA] ID: ${a}, Paciente: ${n}`),this.nutritionService.deleteHistoriaClinica(a).subscribe({next:s=>{console.log("\u2705 Historia cl\xEDnica eliminada exitosamente:",s),alert(`\u2705 Historia cl\xEDnica eliminada correctamente.

Paciente: ${s.paciente}
Fecha de consulta: ${s.fecha||"N/A"}

El paciente sigue registrado en el sistema.`),this.loadReportes()},error:s=>{console.error("\u274C Error eliminando historia cl\xEDnica:",s);let p=s.error?.error||s.message||"Error desconocido";alert(`\u274C Error al eliminar la historia cl\xEDnica:

${p}`)}}))}getSexoAbreviado(a){if(!a)return"";let n=a.toLowerCase();return n.includes("f")||n.includes("mujer")?"F":n.includes("m")||n.includes("hombre")||n.includes("varon")?"M":""}eliminarPaciente(a,n){confirm(`\xBFEst\xE1 seguro que desea eliminar al paciente "${n}"?

Esta acci\xF3n eliminar\xE1:
- Todos los datos del paciente
- Todas sus historias cl\xEDnicas
- Todos los planes nutricionales asociados

Esta acci\xF3n NO se puede deshacer.`)&&this.nutritionService.deletePaciente(a).subscribe({next:()=>{alert(`Paciente "${n}" eliminado exitosamente`),this.loadPacientesDetallados(),this.loadReportes(),this.showPacientes()&&this.loadPacientes()},error:s=>{console.error("Error al eliminar paciente:",s),alert("Error al eliminar el paciente. Por favor intente nuevamente.")}})}imprimirHistoria(a){this.expandedPacientes.update(n=>{let l=new Set(n);return l.add(a),l}),setTimeout(()=>{let n=document.querySelectorAll(".detailed-patient-card");n.forEach(l=>{let s=l;s.getAttribute("data-historia-id")!==a&&(s.style.display="none")}),window.print(),setTimeout(()=>{n.forEach(l=>{l.style.display=""})},500)},200)}static \u0275fac=function(n){return new(n||r)(O(ie),O(A),O(te),O(le),O(se))};static \u0275cmp=z({type:r,selectors:[["app-dashboard"]],decls:93,vars:11,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","patients"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon","histories"],["d","M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"],[1,"stat-icon","consultations"],["d","M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"],[1,"stat-icon","plans"],["d","M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"],[1,"action-cards"],[1,"action-card","primary"],["routerLink","/history",1,"action-btn"],["width","20","height","20","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule","evenodd"],[1,"action-card","secondary"],[1,"action-btn",3,"click"],["d","M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"],["d","M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"],["d","M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"],["fill-rule","evenodd","d","M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"section-container"],[1,"section-container","detailed-report"],[1,"section-container","planes-section"],[1,"section-header"],[2,"display","flex","justify-content","space-between","align-items","center"],[1,"action-btn","detailed-report-btn",3,"click"],["fill-rule","evenodd","d","M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z"],[1,"loading"],[1,"empty-state"],[1,"table-container"],[1,"spinner"],["width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"patients-table"],[1,"historias-actions"],[1,"no-historias"],[1,"historias-count"],[1,"historias-buttons"],["type","button",1,"mini-edit-btn",3,"title"],["type","button",1,"mini-edit-btn",3,"click","title"],["width","14","height","14","viewBox","0 0 20 20","fill","currentColor"],["d","M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"],[1,"search-container"],[1,"search-box"],["fill-rule","evenodd","d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"],["type","text","placeholder","Buscar por nombre, c\xE9dula o fecha...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"clear-search"],[1,"search-results"],[1,"detailed-patients-list"],[1,"clear-search",3,"click"],["width","16","height","16","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"],["width","64","height","64","viewBox","0 0 20 20","fill","currentColor"],[1,"detailed-patient-card"],[1,"patient-header"],[1,"patient-info"],[1,"patient-meta"],[1,"badge"],[1,"patient-actions"],["title","Editar todos los datos del paciente",1,"edit-patient-data-btn",3,"click"],["width","18","height","18","viewBox","0 0 20 20","fill","currentColor"],["title","Eliminar paciente",1,"delete-patient-btn",3,"click"],["fill-rule","evenodd","d","M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"expand-btn",3,"click"],["width","24","height","24","viewBox","0 0 20 20","fill","currentColor"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"],[1,"patient-details"],[1,"detail-section"],[1,"detail-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"historia-card"],[1,"historia-header"],[1,"fecha"],[1,"historia-buttons"],["type","button","title","Editar historia cl\xEDnica",1,"edit-historia-btn",3,"click"],["type","button","title","Imprimir esta historia cl\xEDnica",1,"print-historia-btn",3,"click"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z","clip-rule","evenodd"],["type","button","title","Eliminar esta historia cl\xEDnica",1,"delete-historia-btn",3,"click"],[1,"historia-body"],[1,"historia-item"],[1,"no-data-message"],[1,"detail-item",2,"grid-column","1 / -1"],[1,"frecuencia-table"],[1,"reports-grid"],[1,"report-card"],[1,"report-stats"],[1,"report-stat"],[1,"gender-stats"],[1,"gender-item"],[1,"gender-bar"],[1,"gender-label"],[1,"gender-count"],[1,"gender-bar","feminine"],[1,"activity-list"],[1,"activity-item"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"],[1,"activity-title"],[1,"activity-time"]],template:function(n,l){n&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),i(3,"Dashboard"),e(),t(4,"p"),i(5,"Bienvenido a tu panel de control nutricional"),e()(),t(6,"div",2)(7,"div",3)(8,"div",4),_(),t(9,"svg",5),g(10,"path",6),e()(),f(),t(11,"div",7)(12,"h3"),i(13,"Pacientes"),e(),t(14,"p",8),i(15),e(),t(16,"span",9),i(17,"Pacientes activos"),e()()(),t(18,"div",3)(19,"div",10),_(),t(20,"svg",5),g(21,"path",11),e()(),f(),t(22,"div",7)(23,"h3"),i(24,"Historias"),e(),t(25,"p",8),i(26),e(),t(27,"span",9),i(28,"Historias registradas"),e()()(),t(29,"div",3)(30,"div",12),_(),t(31,"svg",5),g(32,"path",13),e()(),f(),t(33,"div",7)(34,"h3"),i(35,"Consultas"),e(),t(36,"p",8),i(37),e(),t(38,"span",9),i(39,"Este mes"),e()()(),t(40,"div",3)(41,"div",14),_(),t(42,"svg",5),g(43,"path",15),e()(),f(),t(44,"div",7)(45,"h3"),i(46,"Planes"),e(),t(47,"p",8),i(48),e(),t(49,"span",9),i(50,"Planes activos"),e()()()(),t(51,"div",16)(52,"div",17)(53,"h3"),i(54,"Nueva Historia Cl\xEDnica"),e(),t(55,"p"),i(56,"Registra la informaci\xF3n nutricional de un nuevo paciente"),e(),t(57,"a",18),_(),t(58,"svg",19),g(59,"path",20),e(),i(60," Crear historia "),e()(),f(),t(61,"div",21)(62,"h3"),i(63,"Ver Pacientes"),e(),t(64,"p"),i(65,"Consulta y gestiona la lista completa de pacientes"),e(),t(66,"button",22),x("click",function(){return l.togglePacientes()}),_(),t(67,"svg",19),g(68,"path",23),e(),i(69),e()(),f(),t(70,"div",21)(71,"h3"),i(72,"Reportes"),e(),t(73,"p"),i(74,"Genera reportes y estad\xEDsticas de tus pacientes"),e(),t(75,"button",22),x("click",function(){return l.toggleReportes()}),_(),t(76,"svg",19),g(77,"path",24),e(),i(78),e()(),f(),t(79,"div",21)(80,"h3"),i(81,"Planes"),e(),t(82,"p"),i(83,"Crea y gestiona planes de alimentaci\xF3n semanales"),e(),t(84,"button",22),x("click",function(){return l.togglePlanes()}),_(),t(85,"svg",19),g(86,"path",25)(87,"path",26),e(),i(88),e()()(),u(89,Le,15,3,"div",27),u(90,rt,17,4,"div",28),u(91,dt,8,1,"div",27),u(92,ct,2,0,"div",29),e()),n&2&&(o(15),d(l.reporteData().totalPacientes),o(11),d(l.reporteData().totalHistorias),o(11),d(l.reporteData().historiasUltimoMes),o(11),d(l.reporteData().totalPlanes),o(21),m(" ",l.showPacientes()?"Ocultar":"Ver Pacientes"," "),o(9),m(" ",l.showReportes()?"Ocultar":"Ver Reportes"," "),o(10),m(" ",l.showPlanes()?"Ocultar":"Ver Planes"," "),o(),h(l.showPacientes()?89:-1),o(),h(l.showReporteDetallado()?90:-1),o(),h(l.showReportes()?91:-1),o(),h(l.showPlanes()?92:-1))},dependencies:[T,ne,F,H,V,N,L],styles:['@charset "UTF-8";.dashboard-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2.5rem;color:#1f2937;font-weight:700}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:1.1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:3rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.75rem;border-radius:16px;box-shadow:0 1px 3px #0000001a;display:flex;gap:1.25rem;align-items:flex-start;transition:transform .2s,box-shadow .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #00000026}.stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-icon.patients[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.stat-icon.histories[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.stat-icon.consultations[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.stat-icon.plans[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#6b7280;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.stat-number[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:2rem;font-weight:700;color:#1f2937}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#9ca3af}.action-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.action-card[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:16px;box-shadow:0 1px 3px #0000001a;transition:transform .2s,box-shadow .2s}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #00000026}.action-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1.5rem;color:#1f2937}.action-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:#6b7280;line-height:1.6}.action-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s;text-decoration:none}.primary[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;box-shadow:0 4px 12px #6366f166}.primary[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #6366f180;transform:translateY(-2px)}.secondary[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.secondary[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e5e7eb}.action-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.section-container[_ngcontent-%COMP%]{margin-top:3rem;background:#fff;border-radius:16px;padding:2rem;box-shadow:0 1px 3px #0000001a;animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.section-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #f3f4f6}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.75rem;color:#1f2937;font-weight:700}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6b7280}.spinner[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto 1rem;border:4px solid #f3f4f6;border-top-color:#6366f1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#d1d5db;margin-bottom:1rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.patients-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.patients-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f9fafb}.patients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#374151;font-size:.875rem;text-transform:uppercase;letter-spacing:.05em}.patients-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid #f3f4f6;color:#1f2937}.patients-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}.historias-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;align-items:flex-start}.historias-count[_ngcontent-%COMP%]{font-size:.813rem;color:#6b7280;font-weight:500}.historias-buttons[_ngcontent-%COMP%]{display:flex;gap:.375rem;flex-wrap:wrap}.mini-edit-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .5rem;background:#6366f1;color:#fff;border:none;border-radius:4px;font-size:.75rem;font-weight:500;cursor:pointer;transition:all .2s ease}.mini-edit-btn[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 2px 4px #6366f14d}.mini-edit-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.no-historias[_ngcontent-%COMP%]{color:#9ca3af;font-size:.875rem;font-style:italic}.reports-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.report-card[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:12px;border:1px solid #e5e7eb}.report-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.25rem;color:#1f2937;font-weight:600}.report-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.report-stat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#fff;border-radius:8px}.report-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem}.report-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#6366f1}.gender-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.gender-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.gender-bar[_ngcontent-%COMP%]{height:36px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:8px;display:flex;align-items:center;padding:0 1rem;min-width:100px;transition:width .3s ease}.gender-bar.feminine[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.gender-bar.other[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.gender-label[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:.875rem;white-space:nowrap}.gender-count[_ngcontent-%COMP%]{font-weight:700;color:#1f2937;min-width:30px}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.activity-item[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background:#fff;border-radius:8px;align-items:flex-start}.activity-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6366f1;flex-shrink:0}.activity-title[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600;color:#1f2937}.activity-time[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.detailed-report-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 12px #10b98166;font-size:.875rem;padding:.75rem 1.25rem}.detailed-report-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 20px #10b98180;transform:translateY(-2px)}.search-container[_ngcontent-%COMP%]{margin-bottom:2rem}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;max-width:600px}.search-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#9ca3af;pointer-events:none}.search-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem .875rem 3rem;border:2px solid #e5e7eb;border-radius:12px;font-size:1rem;transition:all .3s;outline:none}.search-input[_ngcontent-%COMP%]:focus{border-color:#6366f1;box-shadow:0 0 0 3px #6366f11a}.clear-search[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:#f3f4f6;border:none;border-radius:8px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.clear-search[_ngcontent-%COMP%]:hover{background:#e5e7eb}.search-results[_ngcontent-%COMP%]{margin-top:.75rem;color:#6b7280;font-size:.875rem}.detailed-patients-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.detailed-patient-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;transition:box-shadow .3s}.detailed-patient-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.patient-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:#f9fafb;border-bottom:1px solid #e5e7eb;cursor:pointer}.patient-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center}.edit-patient-data-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:#10b981;color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #10b98133}.edit-patient-data-btn[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px);box-shadow:0 4px 8px #10b9814d}.edit-patient-data-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.delete-patient-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:#ef4444;color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 1px 3px #ef444433}.delete-patient-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 4px 8px #ef44444d}.delete-patient-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.patient-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;color:#1f2937;font-weight:600}.patient-meta[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:#e0e7ff;color:#4f46e5;border-radius:6px;font-size:.75rem;font-weight:600}.expand-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .3s}.expand-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.expand-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s}.patient-details[_ngcontent-%COMP%]{padding:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:2000px}}.detail-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid #f3f4f6}.detail-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem;color:#1f2937;font-weight:600;display:flex;align-items:center;gap:.5rem}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.detail-item[_ngcontent-%COMP%]{background:#f9fafb;padding:.75rem 1rem;border-radius:8px;display:flex;flex-direction:column;gap:.25rem}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;color:#1f2937;font-weight:500}.no-data-message[_ngcontent-%COMP%]{background:#fef3c7;border:1px solid #fbbf24;border-radius:8px;padding:1rem;text-align:center}.no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#92400e;font-size:.875rem;font-weight:500}.historia-card[_ngcontent-%COMP%]{background:#f9fafb;border-radius:8px;padding:1rem;margin-bottom:1rem;border-left:4px solid #6366f1}.historia-card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.historia-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #e5e7eb}.historia-header[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-weight:600;color:#6366f1;font-size:.875rem}.historia-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.edit-historia-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#6366f1;color:#fff;border:none;border-radius:6px;font-size:.813rem;font-weight:500;cursor:pointer;transition:all .2s ease}.edit-historia-btn[_ngcontent-%COMP%]:hover{background:#4f46e5;transform:translateY(-1px);box-shadow:0 2px 4px #6366f14d}.print-historia-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#10b981;color:#fff;border:none;border-radius:6px;font-size:.813rem;font-weight:500;cursor:pointer;transition:all .2s ease}.print-historia-btn[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px);box-shadow:0 2px 4px #10b9814d}.delete-historia-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#ef4444;color:#fff;border:none;border-radius:6px;font-size:.813rem;font-weight:500;cursor:pointer;transition:all .2s ease}.delete-historia-btn[_ngcontent-%COMP%]:hover{background:#dc2626;transform:translateY(-1px);box-shadow:0 2px 4px #ef44444d}.edit-historia-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.plan-nutricional-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.375rem;padding:.375rem .75rem;background:#10b981;color:#fff;border:none;border-radius:6px;font-size:.813rem;font-weight:500;cursor:pointer;transition:all .2s ease}.plan-nutricional-btn[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px);box-shadow:0 2px 4px #10b9814d}.plan-nutricional-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.plan-nutricional-container[_ngcontent-%COMP%]{margin-top:1rem;border-top:1px solid #e5e7eb;padding-top:1rem}.historia-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.historia-item[_ngcontent-%COMP%]{font-size:.875rem;color:#4b5563;line-height:1.5}.historia-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:600}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.recordatorio-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.recordatorio-item[_ngcontent-%COMP%]{background:#f9fafb;padding:1rem;border-radius:8px;border-left:3px solid #6366f1}.recordatorio-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#1f2937;font-weight:600;margin-bottom:.5rem;font-size:.875rem;text-transform:uppercase;letter-spacing:.05em}.recordatorio-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#4b5563;font-size:.875rem;line-height:1.6}.frecuencia-table[_ngcontent-%COMP%]{overflow-x:auto;background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a}.frecuencia-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.frecuencia-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f9fafb}.frecuencia-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;font-weight:600;color:#374151;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;border-bottom:2px solid #e5e7eb}.frecuencia-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;color:#1f2937;font-size:.875rem;border-bottom:1px solid #f3f4f6}.frecuencia-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}.frecuencia-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}@media(max-width:768px){.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.stats-grid[_ngcontent-%COMP%], .action-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:1.25rem}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px}.section-container[_ngcontent-%COMP%]{padding:1.5rem}.reports-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.patients-table[_ngcontent-%COMP%]{font-size:.875rem}.patients-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .patients-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.patient-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.detailed-report-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media print{html[_ngcontent-%COMP%]{margin:0!important;padding:0!important}body[_ngcontent-%COMP%]{margin:0!important;padding:0!important;background:#fff!important;position:relative!important}.dashboard-header[_ngcontent-%COMP%], .stats-grid[_ngcontent-%COMP%], .action-cards[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .section-container[_ngcontent-%COMP%]:not(.detailed-report){display:none!important;position:absolute!important;left:-9999px!important;visibility:hidden!important}.printing-plan[_nghost-%COMP%]   .section-container.planes-section[_ngcontent-%COMP%], .printing-plan   [_nghost-%COMP%]   .section-container.planes-section[_ngcontent-%COMP%]{display:block!important;position:static!important;left:auto!important;visibility:visible!important}app-navbar[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]{display:none!important;position:absolute!important;left:-9999px!important;visibility:hidden!important}.search-container[_ngcontent-%COMP%], .expand-btn[_ngcontent-%COMP%], .edit-patient-data-btn[_ngcontent-%COMP%], .edit-historia-btn[_ngcontent-%COMP%], .print-historia-btn[_ngcontent-%COMP%], .delete-historia-btn[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .print-btn[_ngcontent-%COMP%], .patient-actions[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .search-results[_ngcontent-%COMP%]{display:none!important}@page{margin:.5cm;size:letter}.dashboard-container[_ngcontent-%COMP%]{position:static!important;margin:0!important;padding:0!important}.detailed-report[_ngcontent-%COMP%]{position:relative!important;margin:0!important;padding:0!important;top:0!important}.section-container[_ngcontent-%COMP%]{margin:0!important;padding:0!important}.section-header[_ngcontent-%COMP%]{display:none!important}.detailed-patients-list[_ngcontent-%COMP%]{margin:0!important;padding:0!important}.section-container[_ngcontent-%COMP%]{box-shadow:none!important;border:none!important;page-break-before:avoid!important;page-break-inside:avoid;margin:0!important;padding:0!important}.detailed-patient-card[_ngcontent-%COMP%]{page-break-inside:avoid;page-break-after:auto;border:2px solid #333!important;margin:0 0 1rem;padding:.5rem;box-shadow:none!important}.detailed-patient-card[_ngcontent-%COMP%]:first-child{page-break-before:avoid!important;margin-top:0!important}.patient-header[_ngcontent-%COMP%]{border-bottom:2px solid #333;padding-bottom:.5rem;margin-bottom:.5rem}.patient-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin:0 0 .375rem;color:#000}.patient-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.375rem}.badge[_ngcontent-%COMP%]{border:1px solid #666;padding:.125rem .375rem;font-size:.75rem}.patient-details[_ngcontent-%COMP%]{display:block!important}.detail-section[_ngcontent-%COMP%]{page-break-inside:avoid;margin-bottom:.75rem;border:1px solid #ddd;padding:.5rem}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:.5rem;color:#000;border-bottom:1px solid #333;padding-bottom:.25rem}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:.75rem}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#000;font-size:.75rem}.historia-card[_ngcontent-%COMP%]{border:1px solid #999;padding:.5rem;margin-bottom:.5rem}.historia-header[_ngcontent-%COMP%]{margin-bottom:.375rem;border-bottom:1px solid #ddd;padding-bottom:.375rem}.historia-header[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.historia-item[_ngcontent-%COMP%]{margin-bottom:.375rem;font-size:.75rem}.frecuencia-table[_ngcontent-%COMP%]{page-break-before:auto}.frecuencia-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:.5rem;font-size:.7rem}.frecuencia-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .frecuencia-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333;padding:.25rem .375rem;text-align:left;font-size:.7rem;line-height:1.2}.frecuencia-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0;font-weight:600}.frecuencia-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#e0e0e0}.frecuencia-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{page-break-inside:auto}.frecuencia-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{page-break-inside:avoid;page-break-after:auto}.section-header[_ngcontent-%COMP%]{margin-bottom:1rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:.25rem;color:#000}.section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:#666}body[_ngcontent-%COMP%]{background:#fff!important;color:#000!important}.detail-section[_ngcontent-%COMP%], .historia-card[_ngcontent-%COMP%], .frecuencia-table[_ngcontent-%COMP%]{page-break-inside:avoid}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.header-content[_ngcontent-%COMP%]{flex:1}.print-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1rem;background:#10b981;color:#fff;border:none;border-radius:8px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.print-btn[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px);box-shadow:0 4px 6px #10b98140}.print-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}']})};export{ge as DashboardComponent};
